<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kosmo.travary.service.impl.board.BoardMapper">

	<insert id="save" parameterType="Map">
		INSERT INTO admin_post VALUES(admin_post_seq.NEXTVAL, #{title}, #{content}, '관리자', sysdate)
	</insert>
	<select id="findAll" parameterType="Map" resultType="Map">
		SELECT postno, title, nickname, TO_CHAR(postdate, 'YYYY-MM-DD') AS postdate FROM admin_post ORDER BY postno DESC
	</select>
	<select id="findByNo" parameterType="Map" resultType="Map">
		SELECT postno, title, nickname, content, TO_CHAR(postdate, 'YYYY-MM-DD') AS postdate FROM admin_post WHERE POSTNO = #{POSTNO}
	</select>
	<delete id="deleteByNo" parameterType="Map">
		DELETE admin_post WHERE POSTNO = #{POSTNO}
	</delete>
	<update id="updateByNo" parameterType="Map">
		UPDATE admin_post SET title=#{title}, content=#{content} WHERE postno = #{postno}
	</update>
	<select id="findAll_Admin" parameterType="Map" resultType="Map">
		SELECT NICKNAME, ID, GENDER, AGE, PHONE, TO_CHAR(REGIDATE, 'YYYY-MM-DD') AS REGIDATE FROM member order by regidate desc
	</select>
</mapper>